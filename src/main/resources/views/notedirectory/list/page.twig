{% extends "base/internal-public-switch.twig" %}

{% block title %}{{ title }} - Notenverzeichnis{{ parent() }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" href="css/notedirectory.css"/>
{% endblock %}

{% block content %}
    <h1 class="page-header">
        Notenverzeichnis<br/>
        <span class="small">{{ title }} <small class="visible-print-inline pull-right">Stand: {{ currentFormattedDate }}</small></span>
    </h1>

    <div class="btn-group hidden-print" id="notedirectory-selection">
        <div class="btn-group">
            {% if currentUser.hasPermission("notedirectory.edit") %}
                <a href="internal/notedirectory/editor" class="btn btn-default hidden-print">Editor</a>
            {% endif %}
            <button type="button" class="btn btn-default dropdown-toggle {% if active starts with "programs/" %}active{% endif %}" data-toggle="dropdown">
                Programme <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                {% for year in programs %}
                    <li class="dropdown-header">{{ year.year }}</li>
                    {% for program in year.programs %}
                        {% set path = "programs/#{program.year}/#{program.name}" %}
                        <li class="{% if active == path %}active{% endif %}">
                            <a href="internal/notedirectory/{{ path }}">{{ program.title }}</a>
                        </li>
                    {% endfor %}
                    <li class="divider"></li>
                {% endfor %}
            </ul>
        </div>

        <div class="btn-group">
            <button type="button" class="btn btn-default dropdown-toggle {% if active starts with "categories/" %}active{% endif %}" data-toggle="dropdown">
                Kategorien <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                {% for category in categories %}
                    {% set path = "categories/#{category.id}" %}
                    <li class="{% if active == path %}active{% endif %}"><a href="internal/notedirectory/{{ path }}">{{ category.title }}</a></li>
                {% endfor %}
            </ul>
        </div>

        <a href="internal/notedirectory/titles" class="btn btn-default {% if active == "titles" %}active{% endif %}">Alle Titel</a>
    </div>

    {{ list|raw }}
{% endblock %}